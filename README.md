# Read Me

Извиняюсь за срыв срока. Очень хотелось сделать развертывание в докере одной командой, но возникли сложности с 
установкой расширения amqp. В стандартный образ php pimcore оно не входит, а через Dockerfile команда docker-exec-install 
выдавала ошибку(как я понял расширение не поддерживает php-8.1). В интернете были мануалы как собрать из исходного кода,
но докер выдавал ошибку и в этом случае. В общем, убил я на это достаточно времени. 

Сам код я написал достаточно быстро, в 
задании большая подсказка в виде названия объекта который создает pimcore. Поэтому я просто отловил событие postAdd,
Удостоверился что это папка и затем отправил их в мессенджер. Мессенджер через конфиг настроил на amqp.

Написал один общий тест метода. Решил создать заглушку объекта папки, заглушку мессенджера создать нельзя т.к. метод
dispatch должен возвращать финальный класс Envelope, а делать моки этих классов нельзя. 


##Требования 
- php 8.1
- php amqp extension
- php intl extension
- docker

## Настройка проекта
После клонирования проекта необходимо выполнить команду 
```bash
composer install
php ./vendor/bin/pimcore-install
```

## Docker
Для установки RabbitMQ выполнить команду
```bash
docker-compose up -d
```